<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="lab6.css">
<title>Lab 6 Part 1</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>

  <h1>Add or remove items from to do list</h1>
  <input id="pass_input" type="text" name="input_name" value="">
  <button id="addIt">Add items to this list</button>
  <br><br><button id="btnDone">Removed Completed Tasks</button>

<div>
<ul id="addedItems">
  <li class="regular">Wash the dishes</li>
  <li class="regular">Do the laundry</li>
  <li class="regular">Take out the trash</li>
  <li class="regular">Clean the mirrors</li>
</ul>
</div>
<table id = "itemTable" style = "width:30%">
  <tr>
    <th>Completed Tasks</th>
    <th>Date Completed</th></tr>
    <td><p><span id="answer"></span></p></td>

</table>
<script>

$(function(){
  $("#addIt").click(function() {  //This is creating a new list item.  I am having trouble getting a new list item to have a certain class
    y = $("#pass_input").val();
    console.log(y);
    $("ul").append("<li class='regular'>"+y+"</li>")  //This part is actually appending the user input, which has been set as the variable y.  Trying to get it to automatically get the class of regular.  It does not seem to be working
    $("#pass_input").val('');


  });

  $("#addedItems").on("click",".regular",function() {  //This took me forever to figure out
    $(this).toggleClass("done regular");
  });
  $("#addedItems").on("click",".done",function() {  //I could not get this working properly, so I set up both toggle paramters.
    $(this).toggleClass("done regular");
  });




  $("#btnDone").click(function() {  //This gets rid of selected items...changed to slide up
    $(".done").slideUp(700);

    $(".done").each(function() {
      $(this).addClass('regular');

    });

    $('.done').each(function() {
      var text=$(this).text();
      var theDate=new Date();
   $('#itemTable').append($("<tr><td>" + text + "</td><td>" + theDate + "</td></tr>").hide().fadeIn(2000));  //cannot attach a show or fade in method to append.  Need to do it at the end
      console.log(text);
      $('.done').remove();   //This is the code that will remove it from the list so that it cannot be re-added
    });

  });
})



</script>
</body>
</html>
